<!DOCTYPE html>
<html>

<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
		<link rel="manifest" href="./manifest.json">
		<link rel="shortcut icon" href="images/icons/icon-128x128.png">
		<title>MBudget Setting</title>
		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
		<!-- TODO: Add SDKs for Firebase products that you want to use
				 https://firebase.google.com/docs/web/setup#available-libraries -->
		<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-analytics.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>
		<script>
			// Your web app's Firebase configuration
			var firebaseConfig = {
				apiKey: "AIzaSyBZGADME11xguiNh1_aHPazLd4YIY2oLw8",
				authDomain: "mybudget-47f4a.firebaseapp.com",
				databaseURL: "https://mybudget-47f4a.firebaseio.com",
				projectId: "mybudget-47f4a",
				storageBucket: "mybudget-47f4a.appspot.com",
				messagingSenderId: "344649913021",
				appId: "1:344649913021:web:188a90c2eb5f00b0e55dd4",
				measurementId: "G-ZCZ45DZGW4"
			};
			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			firebase.analytics();
			const db = firebase.firestore()
		</script>
		<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
		<link rel="stylesheet" href="assets/style.css">
		<script src="clientlib.js"></script>
		<script src="setting.js"></script>
</head>
<!--ここに現在の残高保管-->
<a id="balancestore" style="display:none;"></a>
<body id="page-top">
		<div id="wrapper">
				<nav class="navbar navbar-dark align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0">
						<div class="container-fluid d-flex flex-column p-0">
							<a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" href="index.html">
									<div class="sidebar-brand-icon rotate-n-15"><i class="fas fa-money-check-alt"></i></div>
									<div class="sidebar-brand-text mx-3"><span>MBudget</span></div>
							</a>
								<hr class="sidebar-divider my-0">
								<ul class="nav navbar-nav text-light" id="accordionSidebar">
										<li class="nav-item" role="presentation"><a class="nav-link active" href="index.html"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a></li>
										<li class="nav-item" role="presentation"><a class="nav-link active" href="addusage.html"><i class="fas fa-plus-square"></i><span>Add Usage</span></a></li>
										<li class="nav-item" role="presentation"><a class="nav-link active" href="setting.html"><i class="fas fa-cog"></i><span>Settings</span></a></li>
								</ul>
								<div class="text-center d-none d-md-inline"><button class="btn rounded-circle border-0" id="sidebarToggle" type="button"></button></div>
						</div>
				</nav>
				<div class="d-flex flex-column" id="content-wrapper">
						<div id="header">
								<div class="container-fluid">
										<div class="d-sm-flex justify-content-between align-items-center mb-4">
												<h3 class="text-dark mb-0" style="padding-top:5%;">Settings</h3>
										</div>
								</div>
								<div id="content-container" style="padding-left: 2%;">
									<!--<h3>Nothing here!.. Yet</h3>
									<a>Soon (I hope) you should be able to see the planty of settings that opens you a brand new ways to the new feelings(適当)</a>
								-->
									<h4>ユーザー名を変更</h4>
										<script>
										getsetcurrentusername()
										</script>
										<input id="usernamechangeinput" type="text" maxlength="32">
										<br>ユーザー名は32文字までに制限されています。また、', ", {,}等の一部の文字は制限されています。(制限をすり抜けたり解除する方法はありますが非推奨です。万が一何かが制限をすり抜けたり解除した
										ことによって起きた場合すべての責任はユーザーが負うことになります)<br>
										<button type="button" class="btn btn-primary" style="margin-left:90%;" onclick="changeusername()">変更</button>
								</div>
						</div>

						<footer class="bg-white sticky-footer">
								<div class="container my-auto">
										<div class="text-center my-auto copyright"><span>Copyright © MBudget 2019</span></div>
								</div>
						</footer>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
		<script src="assets/js/theme.js"></script>
		<script type="text/javascript">
		  if('serviceWorker' in navigator) {
		    navigator.serviceWorker
		             .register('/sw.js')
		             .then(function() { console.log("Service Worker Registered"); })
		             .catch(function() { console.log("Service Worker Not Registered"); });
		  }
		</script>
		<!--ATTENTION! 以下のスクリプトを消すとユーザー名への制限が解除されます。以下のスクリプトを削除されて強引にユーザー名を設定された場合何が起こっても責任はとれませんのでご了承ください。
		Deleting following script unrestricts all limitation given to user name changing. WE WILL NOT TAKE ANY RESPONSIBILITY OF LOSE OF DATA, OR ANYTHING ELSE CAUSED BY DELETING FOLLOWING SCRIPT
		IF YOU AGREE TO TAKE ALL THE RESPONSIBILITY OF ANYTHING THAT WAS CAUSED BY THIS TO BOTH OUR SERVICE, PROVIDER, AND YOURSELF.
	-->
		<script>
		document.getElementById("usernamechangeinput").onkeypress = function(e) {
			var chr = String.fromCharCode(e.which);
			if ("></\"\'\\{}[]".indexOf(chr) >= 0)
					return false;
		};
		document.getElementById("usernamechangeinput").addEventListener("paste", function(e){
			var chr = String.fromCharCode(e.which);
			console.log(chr)
			if ("></\"\'\\{}[]".indexOf(chr) >= 0)
					return false;
    });
		</script>
</body>

</html>
